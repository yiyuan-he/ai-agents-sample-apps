{"version":3,"file":"aws-metric-attributes-span-exporter-builder.js","sourceRoot":"","sources":["../../src/aws-metric-attributes-span-exporter-builder.ts"],"names":[],"mappings":";AAAA,qEAAqE;AACrE,sCAAsC;;;AAItC,qFAA+E;AAC/E,+FAAwF;AAGxF,MAAa,sCAAsC;IAejD,YAAoB,QAAsB,EAAE,QAAkB;QAP9D,4BAA4B;QACpB,cAAS,GAA6B,sCAAsC,CAAC,iBAAiB,CAAC;QAOrG,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAPM,MAAM,CAAC,MAAM,CAAC,QAAsB,EAAE,QAAkB;QAC7D,OAAO,IAAI,sCAAsC,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IACxE,CAAC;IAOD;;;OAGG;IACI,YAAY,CAAC,SAAmC;QACrD,IAAI,SAAS,IAAI,IAAI,EAAE;YACrB,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;SACzD;QACD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,KAAK;QACV,OAAO,qEAA+B,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9F,CAAC;;AAlCH,wFAmCC;AAlCC,WAAW;AACI,wDAAiB,GAA6B,IAAI,4DAA2B,EAAE,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Resource } from '@opentelemetry/resources';\nimport { SpanExporter } from '@opentelemetry/sdk-trace-base';\nimport { AwsMetricAttributeGenerator } from './aws-metric-attribute-generator';\nimport { AwsMetricAttributesSpanExporter } from './aws-metric-attributes-span-exporter';\nimport { MetricAttributeGenerator } from './metric-attribute-generator';\n\nexport class AwsMetricAttributesSpanExporterBuilder {\n  // Defaults\n  private static DEFAULT_GENERATOR: MetricAttributeGenerator = new AwsMetricAttributeGenerator();\n\n  // Required builder elements\n  private delegate: SpanExporter;\n  private resource: Resource;\n\n  // Optional builder elements\n  private generator: MetricAttributeGenerator = AwsMetricAttributesSpanExporterBuilder.DEFAULT_GENERATOR;\n\n  public static create(delegate: SpanExporter, resource: Resource): AwsMetricAttributesSpanExporterBuilder {\n    return new AwsMetricAttributesSpanExporterBuilder(delegate, resource);\n  }\n\n  private constructor(delegate: SpanExporter, resource: Resource) {\n    this.delegate = delegate;\n    this.resource = resource;\n  }\n\n  /**\n   * Sets the generator used to generate attributes used spancs exported by the exporter. If unset,\n   * defaults to {@link DEFAULT_GENERATOR}. Must not be null.\n   */\n  public setGenerator(generator: MetricAttributeGenerator): AwsMetricAttributesSpanExporterBuilder {\n    if (generator == null) {\n      throw new Error('generator must not be null/undefined');\n    }\n    this.generator = generator;\n    return this;\n  }\n\n  public build(): AwsMetricAttributesSpanExporter {\n    return AwsMetricAttributesSpanExporter.create(this.delegate, this.generator, this.resource);\n  }\n}\n"]}